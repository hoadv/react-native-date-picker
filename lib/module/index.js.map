{"version":3,"sources":["index.tsx"],"names":["React","useEffect","useRef","useState","View","Text","ScrollView","StyleSheet","Dimensions","TouchableOpacity","LinearGradient","DatePicker","value","onChange","height","width","fontSize","textColor","startYear","endYear","markColor","markHeight","markWidth","fadeColor","format","fullMonthDic","shortMonthDic","days","setDays","months","setMonths","years","setYears","end","Date","getFullYear","start","_days","Array","map","_","index","_months","_years","pickerHeight","Math","round","get","pickerWidth","unexpectedDate","date","changeHandle","type","digit","setDate","setMonth","setFullYear","getOrder","split","name","digits","getDate","getMonth","titleMap","console","warn","styles","picker","el","DateBlock","dHeight","mHeight","min","mWidth","offsets","fadeFilled","hex2rgba","fadeTransparent","scrollRef","snapScrollToIndex","current","scrollTo","y","animated","handleMomentumScrollEnd","nativeEvent","contentOffset","block","mark","top","backgroundColor","scroll","color","marginBottom","length","marginTop","lineHeight","gradient","bottom","hex","alpha","replace","r","parseInt","slice","repeat","g","b","create","flexDirection","flex","alignItems","justifyContent","textAlign","position","borderRadius"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport {\n  View,\n  Text,\n  ScrollView,\n  StyleSheet,\n  Dimensions,\n  TouchableOpacity,\n} from 'react-native';\n\nimport { LinearGradient } from 'expo-linear-gradient';\n\nconst DatePicker: React.FC<DatePickerProps> = ({\n  value,\n  onChange,\n  height,\n  width,\n  fontSize,\n  textColor,\n  startYear,\n  endYear,\n  markColor,\n  markHeight,\n  markWidth,\n  fadeColor,\n  format,\n}) => {\n  const fullMonthDic: any = {\n    1: 'January',\n    2: 'February',\n    3: 'March',\n    4: 'April',\n    5: 'May',\n    6: 'June',\n    7: 'July',\n    8: 'August',\n    9: 'September',\n    10: 'October',\n    11: 'November',\n    12: 'December',\n  };\n\n  const shortMonthDic: any = {\n    1: 'Jan',\n    2: 'Feb',\n    3: 'Mar',\n    4: 'Apr',\n    5: 'May',\n    6: 'Jun',\n    7: 'Jul',\n    8: 'Aug',\n    9: 'Sep',\n    10: 'Oct',\n    11: 'Nov',\n    12: 'Dec',\n  };\n\n  const [days, setDays] = useState<number[]>([]);\n  const [months, setMonths] = useState<number[]>([]);\n  const [years, setYears] = useState<number[]>([]);\n\n  useEffect(() => {\n    const end = endYear || new Date().getFullYear();\n    const start = !startYear || startYear > end ? end - 100 : startYear;\n\n    const _days = [...Array(31)].map((_, index) => index + 1);\n    const _months = [...Array(12)].map((_, index) => index + 1);\n    const _years = [...Array(end - start + 1)].map((_, index) => start + index);\n\n    setDays(_days);\n    setMonths(_months);\n    setYears(_years);\n  }, []);\n\n  const pickerHeight: number = Math.round(\n    height || Dimensions.get('window').height / 3.5\n  );\n  const pickerWidth: number | string = width || '100%';\n\n  const unexpectedDate: Date = new Date(years[0], 0, 1);\n  const date = new Date(value || unexpectedDate);\n\n  const changeHandle = (type: string, digit: number): void => {\n    switch (type) {\n      case 'day':\n        date.setDate(digit);\n        break;\n      case 'month':\n        date.setMonth(digit - 1);\n        break;\n      case 'year':\n        date.setFullYear(digit);\n        break;\n    }\n\n    onChange(date);\n  };\n\n  const getOrder = () => {\n    return (format || 'dd-mm-yyyy').split('-').map((type, index) => {\n      switch (type) {\n        case 'dd':\n          return {\n            name: 'day',\n            digits: days,\n            value: date.getDate()\n          };\n        case 'mm':\n          return { name: 'month', digits: months, value: date.getMonth() + 1 };\n        case 'MM':\n          return { name: 'month', digits: months, value: date.getMonth() + 1, titleMap: fullMonthDic };\n        case 'M':\n          return { name: 'month', digits: months, value: date.getMonth() + 1, titleMap: shortMonthDic };\n        case 'yyyy':\n          return { name: 'year', digits: years, value: date.getFullYear() };\n        default:\n          console.warn(\n            `Invalid date picker format prop: found \"${type}\" in ${format}. Please read documentation!`\n          );\n          return {\n            name: ['day', 'month', 'year'][index],\n            digits: [days, months, years][index],\n            value: [date.getDate(), date.getMonth() + 1, date.getFullYear()][\n              index\n            ],\n          };\n      }\n    });\n  };\n\n  return (\n    <View style={[styles.picker, { height: pickerHeight, width: pickerWidth }]}>\n      {getOrder().map((el, index) => {\n        return (\n          <DateBlock\n            digits={el.digits}\n            value={el.value}\n            onChange={changeHandle}\n            height={pickerHeight}\n            fontSize={fontSize}\n            textColor={textColor}\n            markColor={markColor}\n            markHeight={markHeight}\n            markWidth={markWidth}\n            fadeColor={fadeColor}\n            type={el.name}\n            key={index}\n            titleMap={el.titleMap}\n          />\n        );\n      })}\n    </View>\n  );\n};\n\nconst DateBlock: React.FC<DateBlockProps> = ({\n  value,\n  digits,\n  type,\n  onChange,\n  height,\n  fontSize,\n  textColor,\n  markColor,\n  markHeight,\n  markWidth,\n  fadeColor,\n  titleMap,\n}) => {\n  const dHeight: number = Math.round(height / 4);\n\n  const mHeight: number = markHeight || Math.min(dHeight, 65);\n  const mWidth: number | string = markWidth || '70%';\n\n  const offsets = digits.map((_: number, index: number) => index * dHeight);\n\n  const fadeFilled: string = hex2rgba(fadeColor || '#ffffff', 1);\n  const fadeTransparent: string = hex2rgba(fadeColor || '#ffffff', 0);\n\n  const scrollRef = useRef<any>(null);\n\n  const snapScrollToIndex = (index: number) => {\n    scrollRef?.current?.scrollTo({ y: dHeight * index, animated: true });\n  };\n\n  useEffect(() => {\n    snapScrollToIndex(value - digits[0]);\n  }, [scrollRef.current]);\n\n  const handleMomentumScrollEnd = ({ nativeEvent }: any) => {\n    const digit = Math.round(nativeEvent.contentOffset.y / dHeight + digits[0]);\n    onChange(type, digit);\n  };\n\n  return (\n    <View style={styles.block}>\n      <View\n        style={[\n          styles.mark,\n          {\n            top: (height - mHeight) / 2,\n            backgroundColor: markColor || 'rgba(0, 0, 0, 0.05)',\n            height: mHeight,\n            width: mWidth,\n          },\n        ]}\n      />\n      <ScrollView\n        ref={scrollRef}\n        style={styles.scroll}\n        snapToOffsets={offsets}\n        showsVerticalScrollIndicator={false}\n        scrollEventThrottle={0}\n        onMomentumScrollEnd={handleMomentumScrollEnd}>\n        {digits.map((value: number, index: number) => {\n          return (\n            <TouchableOpacity\n              key={index}\n              onPress={() => {\n                onChange(type, digits[index]);\n                snapScrollToIndex(index);\n              }}>\n              <Text\n                style={[\n                  styles.digit,\n                  {\n                    fontSize: fontSize || 22,\n                    color: textColor || '#000000',\n                    marginBottom:\n                      index === digits.length - 1\n                        ? height / 2 - dHeight / 2\n                        : 0,\n                    marginTop: index === 0 ? height / 2 - dHeight / 2 : 0,\n                    lineHeight: dHeight,\n                    height: dHeight,\n                  },\n                ]}>\n                { titleMap && titleMap[value] ? titleMap[value] : value }\n              </Text>\n            </TouchableOpacity>\n          );\n        })}\n      </ScrollView>\n      <LinearGradient\n        style={[styles.gradient, { bottom: 0, height: height / 4 }]}\n        colors={[fadeTransparent, fadeFilled]}\n        pointerEvents={'none'}\n      />\n      <LinearGradient\n        style={[styles.gradient, { top: 0, height: height / 4 }]}\n        colors={[fadeFilled, fadeTransparent]}\n        pointerEvents={'none'}\n      />\n    </View>\n  );\n};\n\nconst hex2rgba = (hex: string, alpha: number): string => {\n  hex = hex.replace('#', '');\n\n  const r: number = parseInt(\n    hex.length === 3 ? hex.slice(0, 1).repeat(2) : hex.slice(0, 2),\n    16\n  );\n  const g: number = parseInt(\n    hex.length === 3 ? hex.slice(1, 2).repeat(2) : hex.slice(2, 4),\n    16\n  );\n  const b: number = parseInt(\n    hex.length === 3 ? hex.slice(2, 3).repeat(2) : hex.slice(4, 6),\n    16\n  );\n\n  return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + alpha + ')';\n};\n\nconst styles = StyleSheet.create({\n  picker: {\n    flexDirection: 'row',\n    width: '100%',\n  },\n  block: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n    height: '100%',\n  },\n  scroll: {\n    width: '100%',\n  },\n  digit: {\n    fontSize: 20,\n    textAlign: 'center',\n  },\n  mark: {\n    position: 'absolute',\n    borderRadius: 10,\n  },\n  gradient: {\n    position: 'absolute',\n    width: '100%',\n  },\n});\n\nexport interface DatePickerProps {\n  value: Date | null | undefined;\n  height?: number;\n  width?: number | string;\n  fontSize?: number;\n  textColor?: string;\n  startYear?: number;\n  endYear?: number;\n  markColor?: string;\n  markHeight?: number;\n  markWidth?: number | string;\n  fadeColor?: string;\n  format?: string;\n\n  onChange(value: Date): void;\n}\n\nexport interface DateBlockProps {\n  digits: number[];\n  value: number;\n  type: string;\n  height: number;\n  fontSize?: number;\n  textColor?: string;\n  markColor?: string;\n  markHeight?: number;\n  markWidth?: number | string;\n  fadeColor?: string;\n  titleMap: any | null;\n\n  onChange(type: string, digit: number): void;\n}\n\nexport default DatePicker;\n"]}